<div class="row header">
    <ng-include src="'app/views/header.html'"></ng-include>
</div>
<div class="row" style="padding-top:0">
    <div class="col-md-2 navbar">
        <ng-include src="'app/views/menu.html'"></ng-include>
    </div>


    <div class="col-md-10 content">


        <div class="incidents" ng-controller="incidentsController">
            <div class="pull-right advanced-search">
                <a class="btn btn-primary" id="btnAdvanceSearch" data-toggle="modal" data-target="#myModal" ng-click="loadAPI()">Advanced Search</a>
            </div>
            <div class="pull-right searchbox">
                <div class="input-group stylish-input-group">
                    <input type="text" class="form-control" placeholder="Filter" ng-model="search">
                    <span class="input-group-addon">
                <button>
                    <span class="glyphicon glyphicon-filter"></span>
                    </button>
                    </span>
                </div>
            </div>
            <h3>
                <span class="incidentLabel">Incidents |</span>
                <a class="btn btn-primary add-incident" href="#/addincident"> <i class="glyphicon glyphicon-plus menu-icon"></i>Add</a>

                <a class="btn btn-danger delete-incident"> <i class="glyphicon glyphicon-trash menu-icon"></i>Delete</a>
                <a class="btn btn-primary delete-incident" ng-click="getData()"> <i class="glyphicon glyphicon-done menu-icon"></i>Reset</a>
            </h3>

            <table class="table table-bordered incident-list">
                <thead>
                    <tr>
                        <th style="width:5%"><input type="checkbox" class="checkbox checkbox-primary" onclick="" /> All</th>
                        <th>Incident ID
                            <!--(Unique, auto generated by system)-->
                        </th>

                        <th>Reported By
                            <!--(Last Name, First Name)-->
                        </th>

                        <th>Status</th>
                        <th>Organization</th>
                        <th>Department</th>
                        <th>Position</th>
                        <th>Date Opened</th>
                        <th>Date Closed
                            <!--(If any)-->
                        </th>

                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="incident in data |filter:search">
                        <td>
                            <input type="checkbox" class="checkbox checkbox-primary" name="">
                        </td>
                        <td>
                            {{incident.uniqueIncidentId}}
                        </td>
                        <td>
                            {{incident.reportedBy==null?"":incident.reportedBy}}
                        </td>
                        <td>
                            {{incident.incidentStatus==null?"":incident.incidentStatus}}
                        </td>
                        <td>
                            {{incident.organizationDescription ==null?"":incident.organizationDescription }}
                        </td>
                        <td>
                            {{incident.departmentDescription == null?"":incident.departmentDescription}}
                        </td>
                        <td>
                            {{incident.positionDescription == null?"":incident.positionDescription}}
                        </td>
                        <td>
                            {{incident.openedDateTime == null?"":incident.openedDateTime}}
                        </td>
                        <td>
                            {{incident.closedDateTime==null?"":incident.closedDateTime}}
                        </td>
                    </tr>

                </tbody>
            </table>

            <nav aria-label="Page navigation">
                <select class="form-control" ng-options="entry.value as entry.value for entry in entry" ng-model="entryCount" ng-change="getEntries()" />

                <ul class="pagination">
                    <li>
                        <a href="#" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#">4</a></li>
                    <li><a href="#">5</a></li>
                    <li>
                        <a href="#" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>

                <span>1 - 10 of 2451</span>
            </nav>


            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h3 class="modal-title">Advanced Search</h3>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-lg-4 col-sm-6 col-md-4">
                                    <label>Incident ID</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-2">
                                    <select class="form-control" ng-model="idOp">
                        <option value="EQ" selected>Equals</option>
                        <option value="NEQ">Not equals</option>
                        <option value="STARTS_WITH">Starts with</option>
                        <option value="ENDS_WITH">Ends with</option>
                        <option value="CONTAINS">Contains</option>
                        <option value="NOT_CONTAINS">Does not contain</option>
                        
                    </select>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <input type="text" class="form-control" ng-model="IncidentId" />
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Incident Opened Date</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-2">
                                    <select class="form-control" ng-model="opendateop">
                        <option value="GT" selected>Greater than or equal to</option>
                        <option value="LT">Less than or equal to</option>
                        
                        
                    </select>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <div class='input-group date' data-provide="datepicker" data-date-format="dd/mm/yyyy">
                                        <input type='text' class="form-control" ng-model="IncOpenedDate" />
                                        <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Incident Closed Date</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-2">
                                    <select class="form-control" ng-model="closedateop">    
                        <option value="GT" selected>Greater than or equal to</option>
                        <option value="LT">Less than or equal to</option>
                        
                        
                    </select>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <div class='input-group date' data-provide="datepicker" data-date-format="dd/mm/yyyy">
                                        <input type='text' class="form-control" ng-model="IncClosedDate" />
                                        <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Incident Status</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <select class="form-control" ng-model="IncidentStatus">
                                    <option value="DRAFT" selected>Draft</option>
                        <option value="NEW">New</option>
                        <option value="ASSIGNED">Assigned</option>
                        <option value="IN_PROGRESS">In-progress</option>
                        <option value="SUSPENDED">Suspended</option>
                        <option value="CLOSED">Closed</option>
                        
                    </select>

                                </div>
                            </div>
                            <!--<div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Person Injured</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <select class="form-control" ng-model="personInjured">
                                     <option value="Y" selected>Yes</option>
                                    <option value="N">No</option>
                       
                                </select>
                                </div>
                            </div>-->
                            <!--<div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Property Damage</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <select class="form-control" ng-model="propertyDamage">
                                     <option value="Y" selected>Yes</option>
                                    <option value="N">No</option>
                       
                                </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Crime Involved?</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <select class="form-control" ng-model="crimeInvolved">
                                     <option value="Y" selected>Yes</option>
                                    <option value="N">No</option>
                       
                                </select>
                                </div>
                            </div>-->
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Incident Type</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">
                                    <select class="form-control" ng-options="incidentType.id as incidentType.description for incidentType in incidentType" ng-model="SincidentType" />

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Incident Category</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-6">

                                    <input type="checkbox" ng-model="prop" />Property Damage <br/>
                                    <input type="checkbox" ng-model="cAttack" />Criminal Attack <br/>
                                    <input type="checkbox" ng-model="Acc" />Accident Damage<br/>
                                    <input type="checkbox" ng-model="Asset" />Vehicle / Asset Damage<br/>

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Location</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-3">
                                    <select class="form-control" ng-options="incidentLoc.id as incidentLoc.description for incidentLoc in incidentLoc" ng-model="SincidentLoc" ng-change="getIncidentLocDetail()" />

                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-3">
                                    <select class="form-control" ng-options="incidentLocDetail.id as incidentLocDetail.description for incidentLocDetail in incidentLocDetail" ng-model="SincidentLocDetail" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4">
                                    <label>Reported By</label>
                                </div>
                                <div class="col-lg-4 col-sm-6 col-md-3">
                                    <!--<input name="states" id="states" type="text" placeholder="enter a state" ng-model="user" ng-change="userLookup()" ng-model-options="{debounce:1000}" typeahead="userInfo as userInfo.fullName for userInfo in userInfo | limitTo:8" class="form-control">-->

                                    <input class="form-control" placeholder="Type user name" 
                                    ng-model="user" ng-change="userLookup()" ng-model-options="{debounce:1000}" 
                                    uib-typeahead="userIn.fullName as userIn.fullName for userIn in userInfo" />
                                </div>
                            </div>


                        </div>
                        <div class=" modal-footer ">

                            <a class="btn btn-primary " ng-click="advancedSearch() ">Search</a>
                            <a class="btn btn-primary " ng-click="clearSearchParams() ">Clear</a>
                            <a class="btn btn-danger " class="close " data-dismiss="modal ">Close</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
</div>